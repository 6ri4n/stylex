---
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Defining Variables for Theming

:::danger

Theming APIs for defining and overriding CSS variables are experimental and
subject to change.

:::

In addition to authoring styles for your components that generate atomic styles,
StyleX also has APIs for defining CSS Custom Properties (CSS variables) in a
reliable, predictable and type-safe way.

### Design Inspiration

The design of the theming APIs in StyleX is directly inspired by React's Context
APIs. Similar to React's Context, CSS variables are defined globally and should
generally have default values. But they can also have overridden values for
particular sub-trees within your UI.

## Defining Variables

You define variables by using the `stylex.createVars` function:

```tsx title="tokens.stylex.js"
import stylex from '@stylexjs/stylex';

const colors = stylex.createVars({
  primaryText: 'black',
  secondaryText: '#333',
  accent: 'blue',
  background: 'white',
  lineColor: 'gray',
  borderRadius: '4px',
  fontFamily: 'system-ui, sans-serif',
  fontSize: '16px',
});
```

These variables are declared globally and can be used anywhere in your
application. The values provided here are the default values for these variables
which is what you get unless the variables are overridden.

This function, too, is processed at compile-time. CSS variable names are
automatically generated during the compilation process by hashing the
combination of:

1. the file name relative to project root
2. the variable name
3. the object key

Each of the keys in the object passed to `stylex.createVars` points to a
`var(--<varname>)` CSS variable after compilation.

### Using Media Queries

Your CSS variables can have different values depending on a media query. The API
usage is identical to the `stylex.create()` function:

```tsx title="tokens.stylex.js"
import stylex from '@stylexjs/stylex';

// A constant can be used to avoid repeating the media query
const DARK = '@media (prefers-color-scheme: dark)';

export const colors = stylex.createVars({
  primaryText: {default: 'black', [DARK]: 'white'},
  secondaryText: {default: '#333', [DARK]: '#ccc'},
  accent: {default: 'blue', [DARK]: 'lightblue'},
  background: {default: 'white', [DARK]: 'black'},
  lineColor: {default: 'gray', [DARK]: 'lightgray'},
  borderRadius: '4px',
  fontFamily: 'system-ui, sans-serif',
  fontSize: '16px',
});
```

### Rules when defining variables

CSS variables are the one exception when it comes to the rules of StyleX. You
_can_ import CSS variables from a different file and use them when authoring
your styles with `stylex.create`.

But you need to follow a few rules to make this possible:

#### 1. CSS variables must be authored in a file with the `.stylex.js` extension

You may only define CSS variables in a file with the extensions:

1. `.stylex.js`
2. `.stylex.mjs`
3. `.stylex.cjs`
4. `.stylex.ts`
5. `.stylex.tsx`
6. `.stylex.jsx`

#### 2. CSS variables must be exported from the file as named exports

Every `stylex.createVars` call _must_ be part of a named export.

##### Allowed:

```tsx
// ✅ - Named export
export const colors = stylex.createVars({
  /* ... */
});

// ✅ - Another Named export
export const sizes = stylex.createVars({
  /* ... */
});
```

##### Not Allowed:

<Tabs>
<TabItem label="Default Export" value="default-export">

```tsx
// ❌ - Only named exports are allowed
export default stylex.createVars({
  /* ... */
});
```

</TabItem>
<TabItem label="Alias" value="re-export">

```tsx
// ❌ - The variable must be exported directly
const x = stylex.createVars({
  /* ... */
});
export const colors = x;
```

</TabItem>
<TabItem label="Nested" value="nested">

```tsx
// ❌ - The variables cannot be nested within another object
export const colors = {
  foregrounds: stylex.createVars({
    /* ... */
  }),
  backgrounds: stylex.createVars({
    /* ... */
  }),
};
```

</TabItem>
</Tabs>

#### 3. No other exports are allowed in the file

For now, `.stylex.js` files are exclusively for defining CSS variables.
