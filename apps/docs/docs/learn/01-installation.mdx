---
sidebar_position: 1
---

import {IfBeta, IfNotBeta} from '../../components/VersionTag';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import {DevInstallExample} from '../../components/examples/dev-install';

# Installation

## Runtime

All uses of StyleX require the runtime package to be installed.

<DevInstallExample prod={[`@stylexjs/stylex`]} />

## Compiler

The recommended way to use StyleX in development and production is with the
build-time compiler.

### Development

For development, you need only to configure the Babel plugin so that styles are
processed at compile-time. The plugin will compiled styles and insert runtime
style injection code into your JavaScript modules.

```ts
// babel.config.js
import styleXPlugin from '@stylexjs/babel-plugin';

const config = {
  plugins: [
    [
      styleXPlugin,
      {
        classNamePrefix: 'x-',
        dev: true,
        definedStylexCSSVariables: {
          primary: {
            lightMode: 'black',
            darkMode: 'white',
          },
        },
        stylexSheetName: 'styles',
        test: false,
      },
    ],
  ],
};

export default config;
```

### Production

Production use of StyleX should extract CSS to an external file. This can be
done with any bundler that supports Babel, using the metadata generated by the
StyleX plugin. See the API reference for more details on the
`@stylexjs/babel-plugin` API.

```js
import styleXPlugin from '@stylexjs/babel-plugin';

const {code, map, metadata} = await babel.transformAsync(inputCode, {
  babelrc: false,
  presets,
  plugins: [...plugins, [styleXPlugin, {...styleXOptions}]],
});

const collectedCSS = styleXPlugin.processStylexRules(metadata.stylex);
```

To make this easier for commonly used packagers and meta-frameworks, StyleX
provides plugins for Webpack, Rollup, and Next.js.

#### Rollup

<DevInstallExample dev={[`@stylexjs/rollup-plugin`]} />

#### Webpack

<DevInstallExample dev={[`@stylexjs/webpack-plugin`]} />

#### Next.js

<DevInstallExample dev={[`@stylexjs/nextjs-plugin`]} />

Please refer to the
[StyleX examples apps](https://github.com/facebookexternal/stylex/tree/main/apps)
for demonstrations on how to use each of these plugins.

## Local development only

:::warning Do not use in Production

You should not use `@stylexjs/dev-runtime` in production. It has a significant
performance cost and should only be used for local development without a
compiler. This runtime lacks features otherwise available when using the
compiler.

:::

To start using StyleX without having to configure a compiler and build process,
you can install the local development runtime.

<DevInstallExample dev={[`@stylexjs/dev-runtime`]} />

The development runtime must be imported in your app's JavaScript entry-point
and configured.

```ts
import inject from '@stylexjs/dev-runtime';

inject({
  classNamePrefix: 'x-',
  definedStylexCSSVariables: {
    primary: {
      lightMode: 'black',
      darkMode: 'white',
    },
  },
  dev: true,
  test: false,
});
```

Once this is done, you can import and use `@stylexjs/stylex` without any further
setup until you're ready to deploy to production.

## Catch mistakes with ESLint

The StyleX compiler does not validate your styles and will compile many invalid
styles. You should use the ESlint plugin to catch these mistakes when you author
your styles.

<DevInstallExample dev={[`@stylexjs/eslint-plugin`]} />

```json
{
  "plugins": ["@stylexjs"],
  "rules": {
    "@stylexjs/valid-styles": ["error", {...options}],
  },
};
```
