---
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Creating themes

:::danger

Theming APIs for defining and overriding CSS variables are experimental and
subject to change.

:::

Once you have defined your variables in a `.stylex.js` file, you can create
"providers" for them using the `stylex.createTheme` function. The providers
created are the same type as the `StyleXStyle` type that is returned from
`stylex.create` and can be be used on any UI sub-tree in your app.

You can only create a provider for a set of variables that have already been
defined using the `stylex.defineVars` function. Similar to React's Context API.

## Example

<Tabs>
<TabItem label="Declaring Variables" value="var-export">

```tsx title="tokens.stylex.js"
import stylex from '@stylexjs/stylex';

// A constant can be used to avoid repeating the media query
const DARK = '@media (prefers-color-scheme: dark)';

export const colors = stylex.defineVars({
  primaryText: {default: 'black', [DARK]: 'white'},
  secondaryText: {default: '#333', [DARK]: '#ccc'},
  accent: {default: 'blue', [DARK]: 'lightblue'},
  background: {default: 'white', [DARK]: 'black'},
  lineColor: {default: 'gray', [DARK]: 'lightgray'},
  borderRadius: '4px',
  fontFamily: 'system-ui, sans-serif',
  fontSize: '16px',
});

export const spacing = stylex.defineVars({
  small: '4px',
  medium: '8px',
  large: '16px',
});
```

</TabItem>
<TabItem label="Variable Override Provider" value="var-override" default>

```tsx title="themes.js"
import stylex from '@stylexjs/stylex';
import {colors, spacing} from './tokens.styles';

// A constant can be used to avoid repeating the media query
const DARK = '@media (prefers-color-scheme: dark)';

// Dracula theme
export const dracula = stylex.createTheme(colors, {
  primaryText: {default: 'purple', [DARK]: 'lightpurple'},
  secondaryText: {default: 'pink', [DARK]: 'hotpink'},
  accent: 'red',
  background: {default: '#555', [DARK]: 'black'},
  lineColor: 'red',
  borderRadius: '4px',
  fontFamily: 'system-ui, sans-serif',
  fontSize: '16px',
});
```

</TabItem>
<TabItem label="Using Variables" value="var-import">

```tsx title="components/MyComponent.js"
import stylex from '@stylexjs/stylex';
import {colors, spacing} from '../tokens.styles';
import {dracula} from '../themes';

const styles = stylex.create({
  container: {
    color: colors.primaryText,
    backgroundColor: colors.background,
    padding: spacing.medium,
  },
});

<div {...stylex.props([dracula /*...*/])}>
  <div {...stylex.props([styles.container])}>Hello World</div>
</div>;
```

</TabItem>
</Tabs>

Unlike when you define variables, your can create these `createTheme`s anywhere
in your codebase. Same as `stylex.create()`.

The `createTheme` function takes two arguments, the first is the set of
variables you want to override and the second is the set of overrides. The
static types will ensure that you only override variables that already exist
_and_ that you override them all.

:::tip

It is not currently possible to override a subset of variables in a variable
set. We made this decision to catch mistakes where a developer may accidentally
forget to override a variable.

We know this is not ideal and working on the right API to allow this while
continuing to catch mistakes.

:::

The value returned from `stylex.createTheme` is of the `StyleXStyle` type that
can be used in a `stylex()` or `stylex.props()` call to apply your overrides on
an element and all its descendent element.
